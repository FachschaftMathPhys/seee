#!/usr/bin/env rake
# Add your own tasks in files placed in lib/tasks ending in .rake,
# for example lib/tasks/capistrano.rake, and they will automatically be available to Rake.

require File.expand_path('../config/application', __FILE__)

Seee::Application.load_tasks

namespace :cache do
  desc "Removes all non-versioned files in the public folder"
  task :clear do
    Dir.chdir(File.join(File.dirname(__FILE__), 'public')) do
      files = %x[git ls-files --others --ignored --exclude-standard].split("\n")
      files.each { |f| File.delete(f) }
      puts "Deleted #{files.size} files."
    end
  end
end
