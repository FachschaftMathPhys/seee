<% content_for :title, " // Type!" %>
<% content_for :css, "#text_ace_editor { height: 100px }" %>
<% content_for :css, "figure img { max-width: 100% }" %>

<%= render "shared/aceify_textareas", :line_offset => 0 %>


<div>
  <div style="width:60%;float:left">
    <h2>Your Job: Type!</h2>
    <ul>
      <li><b>type handwritten comment</b> into text field</li>
      <li>write one and only <b>one bullet point per line</b></li>
      <li>comment doesn’t belong here? Type anyway!</li>
      <li>comment insulting or offensive? Prepend a %-sign and type anyway! Include reasoning if you want, so the next person know why you wanted to exclude the comment. Example: <i>% Jasper ist doof %% almost cried when he heard this</i></li>
      <li>write valid <b><%=latex_logo%></b>. Use proper UTF-8 quotes, e.g. <b>„Deutsch“</b> or <b>“English”</b>. Escape % or $ by prepending a backslash \.</li>
    </ul>
  </div>

  <div style="float:right">
    <h2>Meta Information</h2>
    <table>
      <tr><th>meant for</th><td><%=@workon.for%></td></tr>
      <tr><th>Lecture</th><td><%=@workon.course.title%></td></tr>
      <tr><th>Profs</th><td><%=safe_join(@workon.course.profs.map(&:fullname).sort, "<br>".html_safe)%></td></tr>
      <tr><th>Tutors</th><td><%=safe_join(@workon.course.tutors.map(&:abbr_name).sort, "<br>".html_safe)%></td></tr>
      <tr><th>Form</th><td><%=link_to("#{@workon.course.form.name} (language: #{@workon.course.language})", @workon.course.form)%></td></tr>
      <tr><th>Faculty</th><td><%=@workon.course.faculty.longname%></td></tr>
    </table>
  </div>
</div>

<%= form_tag(:controller => "hitmes", :action => "save_comment") %>
  <%= hidden_field_tag(:type, @workon.class) %>
  <div class="group" id="commentfield">
    <%= text_area_tag(:text, @workon.text, :style => 'width:99%')%>
    <br/>
    <%= render "shared/comment_pic", :course => @workon.course, :pic => @workon %>
    <br/>
    Hint: if the comment is cut off, click-and-hold for one second to download the original sheet.
  </div>

  <div class="group">
    <span class="button-group">
      <%= submit_tag("Save and give more work", :class => "button primary") %>
      <%= submit_tag("Save and quit", :class => "button") %>
      <%= submit_tag("incomplete / can’t read / skip", :class => "button") %>
      <%= submit_tag("quit without saving", :confirm => "Really quit without saving the text?", :class => "button danger") %>
    </span>
  </div>
</form>
